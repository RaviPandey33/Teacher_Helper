{% extends 'layout.html' %}
{% block content %}
<div class="container mt-5">
  <h3>5-Month Payment Summary</h3>

  <table class="table table-bordered mt-3">
    <thead>
      <tr>
        <th>Student</th>
        {% for label in month_labels %}
        <th>{{ label }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for student in students %}
      <tr>
        <td>{{ student.name }}</td>
        {% for month in month_keys %}
          {% set status = payments_by_student[student.id][month] %}
          <td>
            <span class="badge 
              {% if status == 'Paid' %}bg-success
              {% elif status == 'Unpaid' %}bg-danger
              {% else %}bg-secondary{% endif %}">
              {{ status }}
            </span>
          </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
